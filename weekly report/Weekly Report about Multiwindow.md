# 2020年09月07日 - - 2020年09月11日 周总结
# 刘晓旭
  - 1.整理otosettings更换UI界面codes，及相关文档
  - 2.分析aosp10，app多窗口启动的实现流程。

# 2020年08月31日 - - 2020年09月04日 周总结
# 刘晓旭
  - 1.bug：切换分辨率时，openthosStatusBar不会自适应。100%
  - 2.编译、运行aosp10系统，分析frameworks多窗口源码实现。


# 2020年08月24日 - - 2020年08月28日 周总结
# 刘晓旭
  - 1.bug：切换分辨率时，otosettings左侧导航栏无法正常显示内容。100%
  - 2.分析openthosstatusbar 切换分辨率时，各功能icon无法动态适配问题，完成60%
  
# 2020年08月17日 - - 2020年08月21日 周总结
# 刘晓旭
  - 1.bug：切换设备分辨率时，systemUI上功能弹窗高斯模糊不正常显示，已完成自测有效，未提交。
  - 2.oto8.1 settings 网络界面UI逻辑功能实现30%。
  - 3.oto8.1 settings 外接设备UI逻辑功能实现10%.

# 2020年08月10日 - - 2020年08月14日 周总结
# 刘晓旭
  - 1.oto8.1 settings Android x86 options界面UI替换完成100%.
  - 2.oto8.1 settings 外接设备UI替换完成100%，逻辑功能实现0%.
  - 3.oto8.1 settings 网络界面UI替换完成100%，逻辑功能实现20%.
  - 4.oto8.1 settings 用户界面UI替换完成100%，逻辑功能实现0%.

# 2020年08月03日 - - 2020年08月07日 周总结
# 刘晓旭
  - 1.bug:otosettings 回退或者系统配置更新导致欢迎界面重叠显示。100%
  - 2.oto8.1 settings显示界面UI替换完成100%.
  - 3.oto8.1 settings外接设备UI替换完成30%.

# 2020年07月27日 - - 2020年07月31日 周总结
# 刘晓旭
  - 1.oto8.1 settings显示界面显示缩放 UI及功能 100%
  - 2.oto8.1 settings显示界面字体缩放 UI及功能 100%
  - 3.oto8.1 settings显示界面UI替换完成90%.


# 2020年07月20日 - - 2020年07月24日 周总结
# 刘晓旭
  - 1.分析、实现oto8 settings 显示界面休眠UI、及其功能100%。
  - 2.oto8settings 显示界面UI替换60%.

# 2020年07月13日 - - 2020年07月17日 周总结
# 刘晓旭
  - 1.bug:开始菜单搜索app时，安装的app能正常显示在开始菜单中，当删除搜索内容时，之前已安装的应用开始菜单中不显示。
  - 2.优化oto8 settings之前ui替换的设计方案，最大程度解耦frameworks与settings。
  - 3.oto8settings 显示界面UI替换20%.


# 2020年07月06日 - - 2020年07月10日 周总结
# 刘晓旭
  - 1.整理窗口模糊、阴影、通知中心、systemUI弹窗模糊patches，已提交测试。
  - 2、完成oto8 settings 声音界面UI以及对应功能。

# 2020年06月29日 - - 2020年07月03日 周总结
# 刘晓旭
  - 1.解决oto8 settings存储界面progressbar进度条样式无法改变bug。
  - 2.完成oto8 settings电池界面UI替换，及对应功能。
  - 3.完成oto8 settings音量界面uI替换30%.

# 2020年06月15日 - - 2020年06月19日 周总结
# 刘晓旭
  - 1.完成oto8 任务栏，以及任务上的功能弹窗高斯模糊效果。
  - 2.罗浩工程师oto8.1 settings UI替换实现方案以沿用原生settings框架为主，通过外层PhoneWindow（SettingsActivity显示窗口）+内层PhoneWindow（settings各个功能Activity显示窗口）方式展示settings的各功能界面，由于原生系统一个窗口只有一个PhoneWindow，所以需要修改系统PhoneWindow的显示方式，保证settings窗口中内外两个PhoneWindow能正常显示，这部分涉及到系统窗口框架的修改，与系统版本耦合度比较高，可能不利于后期的版本迭代。
  - 3.对比罗浩工程师settings ui实现方案，通过分析Settings源代码，发现各个模块Activity在AndroidManifest.xml中注册时都指定了相对应的fragment，也就是各模块功能都是最终都是通过fragment实现的，因此尝试通过Activity+fragment的方式实现settings左右分栏显示效果，目前已初步实现左右分栏效果。下一步考量两种实现方案的优缺点以及工作量。


# 2020年06月08日 - - 2020年06月12日 周总结
# 刘晓旭
  - 1.优化应用商店codes，添加国际化及控件背景阴影效果
  - 2.完成应用商店自动更新功能，待测试。
  - 3.整理应用商店全部codes，形成patches，待测试.


# 2020年06月01日 - - 2020年06月05日 周总结
# 刘晓旭
  - 1.bug：开始菜单弹窗在开始菜单下层显示，无法点击。
  - 2.应用商店已安装界面，增加应用打开button
  - 3.bug：已安装应用卸载后，打开应用商店，应用状态仍显示“打开”，点击“打开”应用crash。
  - 4.完成应用商店升级界面UI及相关功能。

# 罗浩
  - 1.完成除Google设置外的settings的窗口操作事件加入到主体UI中，不再使用caption。
  - 2.完成UI的调整，动态加载白色图标，但资源礽保存在settings应用本地
  - 3.完成settings双PhoneWindow显示带来的模糊调整。
  - 4.解决双PhoneWindow在最小化时的显示错误，尚在分析错误原因。

# 2020年05月25日 - - 2020年05月29日 周总结
# 刘晓旭
  - 1.完成AppStore首页、应用、游戏、设置等4个界面功能100%
  - 2.完成AppStore应用详情界面简介、评论界面UI及相应功能100%
  - 3.完成AppStore搜索界面UI及相应功能100%

# 罗浩
  - 1.基本完成在不影响Settings动态加载的情况下对SettingsUI的重新构筑
  - 2.调整Settings子Activity的显示模式，添加Flag，保证其背景色和结构不受影响
  - 3.同时保证最上的Settings窗口和最下的用来显示列表的窗口可见，其余窗口可见性不做调整，避免性能损耗
  - 4.尝试获取每一条Settings选项对应的ResId名称，用以加载本地的对应资源来调整图标，或扩展图标

# 2020年05月18日 - - 2020年05月22日 周总结
# 刘晓旭
  - 1.完成AppStore首页、应用、游戏、设置4个界面UI 100%
  - 2.完成AppStore首页、应用、游戏、设置4个功能70%.

# 罗浩
  - 1.调整Settings自动加载内容UI结构成功（图标替换尚未进行）
  - 2.成功将Settings功能以小范围窗口运行，但交互存在问题
  - 3.分析取消settings应用动画的方法，使其看起来更想页面切换

# 2020年05月11日 - - 2020年05月15日 周总结
# 刘晓旭
  - 1.bug：开始菜单应用固定到任务栏，应用卸载后，任务栏的应用图标不消失。
  - 2.配置应用商店服务器，更改应用商店默认url地址使其能正常加载服务器端的应用。
  - 3.应用商店源码导入AS中，修改使其能正常编译、运行，为替换ui做准备。

# 罗浩
  - 1.基本完成新setting主界面左边栏布局资源导入和添加接口
  - 2.分析settings内部activity加载的实现
  - 3.尝试不改变settings加载方式的情况下按照UI的设计启动现有内容

# 2020年05月06日 - - 2020年05月09日 周总结
# 刘晓旭
  - 1.bug:不同目录下的重名文档，当一个被删除后，另一个也不能在最近文档里显示。
  - 2.bug:不同目录下的重名文档，在最近文档里显示的是同样的时间
  - 3.bug:“最近文档”里重复使用的文档会显示多次。
  - 4.review 窗口高斯模糊、窗口阴影patch，以及通知中心UI更新patch。
  - 5.调研文本编辑器实现。
# 罗浩
  - 1.根据review结果修改patch
  - 2.初步分析setting的布局结构，在主界面预留出右侧列表，内容待填充


# 2020年04月26日 - - 2020年04月30日 周总结
# 刘晓旭
  - 1.bug： 同一个字母开头的应用，第二个字母也应该参与排序。
  - 2.bug：安装系统以后，Android Keyboard(AOSP)出现在所有应用，打开终端，density改成160，Android Keyboard(AOSP)从所有应用消失。
  - 3.bug：应用固定到任务栏以后，在开始菜单和任务栏点右键显示解除固定，重启电脑以后，开始菜单点右键显示固定到任务栏，在任务栏点击右键显示解除固定
  - 4.bug：切换当前设备分辨率后，最近文档里内容不再变化。
  - 5.图片管理器图片详情界面，完成图片剪切保存UI。
  - 6.开始菜单右键弹窗hover与设计稿不符合。
  - 7."所有应用"里把某个应用绑定到任务栏，重启机器，从任务栏再解绑那个应用，从“所有应用”看到那个应用还是绑定状态。此时，如果多次打开那个应用，在任务栏上会显示多个同一应用的图标。


# 2020年04月20日 - - 2020年04月24日 周总结
# 刘晓旭
  - 1.图片管理器图片详情界面，实现键盘左右键、鼠标滚轮切换图片功能.
  - 2.图片管理器图片详情界面，完成裁剪界面UI。
  - 3.bug：开始菜单搜索无结果时显示异常，显示的是"无查找结果　返__"。密度240下存在此问题，密度160下无此问题。完成
  - 4.bug：开始菜单左键点击最近文档，打开的文档在开始菜单的下层。完成
  - 5.bug：对开始菜单UI，存在两处UIbug，已修复完成。

# 罗浩
  - 1.解决在切换密度时导致systemUI重新加载的通知中心bug
  - 2.由于上述bug解决发现通知中心并不会在切换密度时自动调整大小，于是给其增加了调整大小的功能
  - 3.解决通知中心调整大小后阴影显示不正确的问题
  - 4.整理patch，预计周日完成

# 2020年04月13日 - - 2020年04月17日 周总结
# 刘晓旭
  - 1.图片管理器详情界面自定义caption Ui替换完成。
  - 2.图片管理器详情界面自定义caption功能（最小化、最大化、关闭、双击窗口最大化、窗口拖动等功能）完成
  - 3.图片管理器详情界面图片的放大、缩小、详情、分享、关闭等功能按钮完成。
  - 4.图片管理器详情界面ctrl+鼠标滚轮放大、缩小图片功能完成。

# 罗浩
  - 1.基本完成patch整理，待编译检测
  - 2.重新调整statusbar窗口控制模糊区域的参数传递方式，之前的方式只对通知中心和右键菜单有效，对开始菜单和statusbar本身无效
  - 3.考察在native部分获取denstiy的方法，layer中通过surfaceflinger获取存在较大难度，测试了几种方案都不成功，目前倾向于扩展statusbar控制窗口模糊区域的参数传递方式，把denstiy传递过去，以保证模糊区域的缓冲区域（即防止边界黑线等现象的区域）能够正常计算。

# 2020年04月06日 - - 2020年04月10日 周总结
# 刘晓旭
  - 1.完成aosp10.0 开始菜单UI替换。
  - 2.尝试设置隐藏DecorCaption的接口，方便应用自定义Caption，目前通过Window.addFlags()方式设置系统DecorCaption显示与隐藏，自测生效。
  - 3.openthos8.1 图片管理器UI更换完成30%.
# 罗浩
  - 1.彻底解决statusbar窗口控制模糊区域再切换分辨率后失效的bug，之前的解决方案没有考虑更大分辨率的情况
  - 2.完善statusbar窗口独立阴影的设计
  - 3.考察aosp10.0中通知中心UI替换所涉及代码和接口与8.1的一致性情况，尚无明显结论
  - 4.有关8.1的UI替换代码合并顺序问题，目前仍认为通知中心方面的UI替换作为最后一个patch比较合适，目前正将UI替换，模糊的base部分还有阴影部分进行分离并各自准备patch，具体策略和数周前的代码整理思路一致

# 2020年03月30日 - - 2020年04月03日 周总结
# 刘晓旭
  - 1.commit、运行aosp10多窗口patches。
  - 2.aosp10开始菜单UI替换完成10%
  - 3.下载、编译、运行图片管理器apk，图片管理器UI更换完成10%。

# 罗浩
  - 1.前两日尝试独立statusbar窗口阴影的设计，基本上不存在实现难度但未编译测试
  - 2.周三开始服务器无法连接，正在完成高斯模糊和通知中心UI替换以及统一窗口阴影部分的文档。

# 2020年03月23日 - - 2020年03月27日 周总结
# 刘晓旭
  - 1.下载、编译、运行aosp10源码。
  - 2.初步完成设置第一个界面UI。
  - 3.调研、分析设置UI实现方式。

# 罗浩
  - 1.完善statusBar窗口控制模糊区域的代码，使其独立。以防和应用layer控制的互相干扰。
  - 2.解决在添加statusbar窗口模糊控制之后，切换分辨率模糊控制失效的bug
  - 3.分析statusbar窗口阴影与应用窗口阴影独立实现的方案。

# 2020年03月16日 - - 2020年03月20日 周总结
# 刘晓旭
  - 1.优化openthos8.1兼容模式代码，根据当前设备分辨率，动态设置兼容模式运行density、densityDpi、widthPixel、heightPixel，确保在不同分辨率设备上，兼容模式正常运行。
  - 2.优化openthos8.1窗口DecorCaption各个功能按钮MotionEvent，当后退、兼容模式设置、最下化、最大化、关闭功能按钮触摸事件为MotionEvent.ACTION_MOVE时，窗口可以随触摸事件拖动。
  - 3.解决bug：在1366x768设备上，兼容模式更改提示窗口显示不全。

# 罗浩
  - 1.提供STATUS_BAR窗口控制模糊区域大小的功能
  - 2.优化STATUS_BAR中对通知中心弹窗位置，大小和窗口类型控制的代码。调整窗口类型在WindowManager中的调用，使其不会被当作一般的STATUS_BAR_PANEL从而不会影响应用窗口的显示
  - 3.尝试一种新的对比度调整算法，效果不如之前的版本固不采用

# 2020年03月09日 - - 2020年03月13日 周总结
# 刘晓旭
  - 1.bug：解决SystemUI中FileObserver首次开启监听startWatching后，无法触发onEvent回调事件；
  - 2.bug：修改最近文档图标UI，以及解决最近文档时间显示不全。
  - 3.完成最近文档数据存储功能。
  - 4.完成StartupMenu最近文档功能100%

# 罗浩
  - 1.解决通知中心无法前置问题，由于新增的STATUS_BAR_DIALOG类型窗口没有对应的非APPLICATION的Layer类型并且在PhoneWindowManager中不会被当作特殊类型窗口处理导致其显示时会被一些一般应用窗口覆盖。根据Layer类型和PhoneWindowManager对STATUS_BAR和STATUS_BAR_PANEL类型窗口的处理方式新增了对STATUS_BAR_DIALOG类型窗口的处理方式，使其能够被识别成特殊窗口，从而不会被应用窗口遮挡，能够保证显示在最前。
  - 2.STATUS_BAR窗口可以自行决定blur的区域大小，目前认为可以用在startupMenu中，若未设定则surfaceflinger中会按照全layer都算作blur区域来计算
  - 3.解决通知中心背景透明和模糊在发生动画时的时机冲突问题
# 2020年03月02日 - - 2020年03月06日 周总结
# 刘晓旭
  - 1.bug：系统重启，StartupMenu最近应用界面会重复显示应用图标。
  - 2.完成openthos8.1 StartupMenu最近文档时间显示功能。
  - 3.bug：首次安装系统开机，StartupMenu最近文档界面通过Fileobserver监听文件状态，无法触发onEvent回调事件，系统重启后，可以触发onEvent回调事件，监听文件状态。分析定位到首次安装的系统Fileobserver开启监听的时间点，Sd卡未mount，目录为空，下一步接着分析解决此问题。
  - 4.完成StartupMenu最近文档功能80%

# 罗浩
  - 1.建立StatusBar控制View所属WindowState是否其用blur的通路，来控制相关view播放出现/消失的动画时背景部分模糊状态更合理
  - 2.重新考察边界问题，目前认为仍需要扩大一定的模糊边界来保证颜色不会有撕裂，因此造成的梯度问题尚无太好的解决方法。
  - 3.分析通知中心无法前置问题，尚未找到具体原因

# 2020年02月24日 - - 2020年02月28日 周总结
# 刘晓旭
  - 1.完善openthos8.1 右键菜单UI及相关功能。
  - 2.解决StartupMenu新安装应用首次打开crash问题。
  - 3.解决StartupMenu新安装应用出现在最近应用列表中bug
  - 4.完成StartupMenu 最近文档UI界面，实现功能40%.

# 罗浩
 - 1.通知中心代码的整理和UI逻辑整理基本完成
 - 2.模糊方面目前存由于对比度造成的色彩撕裂问题，在比较小的窗口边界遇到比较大的色彩差异时会明显看出，尝试了几种对比度算法并没有得到明显改善，个人认为可能是背景模糊范围取值的问题所导致的，但若减少背景模糊范围的取值则会产生边界颜色梯度问题，目前没有找到很好的解决方案。对于大小比较大的窗口来说没有发现这一问题。这一问题目前主要集中在statusbar图标的右键弹出菜单上
 - 3.通知中心通过动画的方式消失时layer不会立刻消失，所以会出现一小部分时间通知中心正在消失但背景区域仍然处于模糊的情况。仍需简历系统窗口操作模糊flag的通信路径。
 - 4.一些应用在打开状态下通知中心点开时无法显示在最前（目前发现的只有terminal），该问题暂时未解决。


# 2020年02月17日 - - 2020年02月21日 周总结
# 刘晓旭
  - 1.安装、配置virtualbox，方便openthos8.1系统startupmenu测试。
  - 2.整理openthos8.1系统startupmenu界面、功能代码，去除冗余、无用代码。

# 罗浩
  - 1.调整阴影代码位置使其能够作用给dialog
  - 2.整理阴影-模糊-通知中心的代码，目前基本完成无用代码的删减，代码分类需要得到测试机后进一步判断阴影部分代码是否和模糊部分有冲突。
  - 3.整理通知中心UI逻辑，尚未完全完成，剩余一部分逻辑需要在测试机上测试才能判断是否与模糊冲突

# 2020年01月13日 - - 2020年01月17日 周总结
# 刘晓旭
  - 1.完成oto8.1 StartupMenu右键菜单UI重组
  - 2.完成oto8.1 StartupMenu最近应用列表显示以及清除功能。
  - 3.整理StartupMenu代码并入oto8.1frameworks模块中，并清除多余代码。完成70%.

# 罗浩
  - 1.完成通知中心新增UI内容
  - 2.完成通知中心操作动画
  - 3.删除不需要的操作方式
  - 4.通知重心提交代码尚未整理
  - 5.考察通过canvas画阴影的方式，初步找到作用点和方法

# 2020年01月06日 - - 2020年01月10日 周总结
# 刘晓旭
  - 1.实现oto8.1 StartupMenu新UI替换，已完成StartupMenu整体界面显示，应用列表显示及其点击、hover事件等。
  - 2.实现oto8.1 StartupMenu搜索功能.
  - 3.实现oto8.1 StartupMenu最近应用列表显示功能.
  
# 罗浩
  - 1.基本完成通知中心的UI重组
  - 2.替换图标并实现了新的设置按钮功能
  - 3.分析部分hover事件成因，并根据UI意见作对应修改
  - 4.调整TYPE_STATUS_BAR_DIALOG为完全模糊窗口

# 2019年12月30日 - - 2020年01月03日 周总结
# 刘晓旭
  - 1.分析，解决了aosp9.0 窗口从全屏模式切换到标准模式后，窗口尺寸未还原问题。
  - 2.协助解决oto8.1壁纸显示不全问题。
  - 3.与UI工程师交流关于oto8.1SystemUI各模块设计，以及各模块工作安排。
    - [SystemUI任务列表](https://github.com/openthos/systemui-analysis/blob/master/LXX/oto8.1%20systemui%E4%BB%BB%E5%8A%A1%E5%88%97%E8%A1%A8.md)

# 罗浩
  - 1.解决大面积模糊应用最小化后透明区域失效问题
  - 2.解决statusbar透明后屏幕下方应用显示不全问题，有两种方案
  - 3.探究使spotshadow不存在于应用正下方，一面模糊带来的透明会使之显示，目前仍在寻求方案，初步发现重要代码段
  - 4.着手处理systemUI素材更换工作

# 2019年12月23日 - - 2019年12月27日 周总结
# 刘晓旭
  - 1.整理云服务各种同步异常处理。
    - [Seafile 异常同步状态处理](https://github.com/openthos/multiwin-analysis/blob/master/seafile/Seafile%20%E5%BC%82%E5%B8%B8%E5%90%8C%E6%AD%A5%E7%8A%B6%E6%80%81%E5%A4%84%E7%90%86.md)
  - 2.整理云服务概要设计文档修订版
    - [云服务概要设计](https://github.com/openthos/multiwin-analysis/blob/master/seafile/%E4%BA%91%E6%9C%8D%E5%8A%A1%E6%A6%82%E8%A6%81%E8%AE%BE%E8%AE%A1.md)
  - 3.初步实现aosp9.0 应用兼容模式UI，以及标准模式、全屏模式运行模式切换。

# 罗浩
  - 1.实现通过设置窗口类型的高斯模糊方案，目前存在最小化后透明区域失效问题
  - 2.调整高斯模糊区域的取值方式，解决了部分情况下模糊内容有错误的问题
  - 3.重新设置模糊参数，并对模糊内容的饱和度进行调整
  - 4.尝试对statusbar进行实时模糊处理，个人感觉对性能影响不大，但应用拉到屏幕下方时在非移动状态下显示区域会与屏幕下方间隔很小的区间，当statusbar透明后这一现象会被用户观测，目前正想办法解决这一问题。


# 2019年12月09日 - - 2019年12月20日 周总结
# 刘晓旭
  - 1.解决aosp9 install 或者uninstall应用时，系统软重启问题。
  - 2.解决aosp9 窗口Fullscreen时，隐藏maximize button。
  - 3.解决aosp9 真机运行时，最小化应用无法还原问题。
  - 4.提供Android8\9\10等版本系统运行截图，协助准备os2atc会议技术文档。
  - 5.解决aosp9 StartupMenu uninstall应用时，卸载界面无法点击问题。
  - 6.测试OneDrive的需求功能，并协助完成seafile概要设计。
  - 7.测试Deepin Cloud sync需求功能，并协助完成与openthos 云功能对比文档。

# 罗浩
  - 1.解决celadon10上focus light问题
  - 2.初步解决8.1中高斯模糊和兼容模式的冲突问题
  - 3.整理高斯模糊代码，考虑初步的api化
  - 4.用计算器测试全窗口范围的高斯模糊功能
  - 5.制作用于os2act的演示文档
 

# 2019年12月02日 - - 2019年12月06日 周总结
# 刘晓旭
  - 1.完成aosp9窗口docked状态、窗口全屏状态记忆、系统关机重启后窗口各状态记忆。
  - 2.解决aosp9 应用最小化，桌面获得焦点时，任务栏显示filemanager图标bug。
  - 3.解决aosp9 应用最小化，桌面获取焦点后，点击已最小化的应用，应用无法显示问题。
  - 4.bug：aosp9 StartupMenu点击uninstall应用时无反应。已可以显示uninstall应用界面，但无法点击。
  - 5.反馈基于onedrive云服务需求设计文档。

# 罗浩
  - 1.完成10.0中dock状态记忆整合到LaunchParams中的功能
  - 2.调整blurnative部分代码，准备提交
  - 3.调整blurbase部分代码，添加对兼容模式的支持，但目前会引发systeui重启bug，正在尝试解决
  - 4.尝试在pixel C上不输blur代码，由于pixel C的layer合成通过HWC2完成，因此无法将基于openGL实现的高斯模糊内容直接加入其中，若想要加入需要修改其合成方式并对HWC作出修改，个人感觉比较繁琐，应该无法在12月14日会议之前使用。

# 2019年11月25日 - - 2019年11月29日 周总结
# 刘晓旭
  - 1.完成aosp9.0窗口在屏幕上侧、左侧、右侧docked及undocked功能。
  - 2.解决aosp9.0命令行启动应用及桌面应用默认打开非窗口化问题。
  - 3.完成aosp9.0窗口bounds记忆功能，其中窗口docked状态、窗口全屏状态未记忆、系统关机重启后窗口各状态未记忆。
  
# 罗浩
  - 1.完成aosp9.0和10.0中线框缩放的功能，保证缩放过程中窗口不会抖动
  - 2.将窗口最大化功能实现到10.0中并保持与9.0中风格一致
  - 3.进一步完善9.0全屏化功能并提交
  - 4.将dock undock功能实现到10.0中并修复bug
  - 5.整合目前9.0和10.0的功能，保证其风格一致化。

# 2019年11月18日 - - 2019年11月22日 周总结
# 刘晓旭
  - 1.完成Pixel C设备aosp8.1系统刷机。
  - 2.解决Pixel C设备aosp8.1系统wifi无法使用，窗口最小化无法还原问题。
  - 3.完成Pixel C设备aosp8.1系统应用兼容模式窗口尺寸适配。
  
# 罗浩
  - 1.完成aosp9.0窗口全屏化功能
  - 2.完成aosp9.0窗口从全屏化到窗口化切换的功能
  - 3.在celadon上部署加入aosp-10中frameworks/base内容的系统版本
  - 4.协助解决Pixel C刷机问题

# 2019年11月11日 - - 2019年11月15日 周总结
# 刘晓旭
  - 1.添加最大化功能到9.0
  - 2.修改aosp9.0多窗口模式下，launcher始终显示在窗口最底层。
  - 3.bug：aosp9.0默认窗口全屏功能，窗口内容无法实现全屏。通过对比分析aosp9.0、aosp10.0窗口全屏功能实现流程，定位到与ConfigurationContainer的mOverrideConfiguration的update、Changed有关，解决方案可以参考aosp8、aosp10实现思路。

# 罗浩
  - 1.实现10.0的最大化按钮以及decorcaption在全屏状态下可以通过点击顶部10个像素的位置来唤醒
  - 2.对比10.0分析9.0中全屏时内容不放大的问题，目前看来9.0相比8.1来说，把内容显示的相关变量从task的bounds改为activityrecord的configuration中的windowconfiguration，相对9.0而言，10.0又进一步细化了在窗口的显示模式，也就是windowingmode发生变化时，configurationChange的方式，因此9.0作为方法改变而尚未细化的版本，出现了在8.1上不曾出现的bug，解决方案仍需进一步探讨。可能的方向是根据10.0将overrideconfiguration一分为二的策略并简化，在发生变化时考虑windowingmode来改编configuration，或是恢复8.1的模式通过bounds来决定显示模式，具体方式仍需要进一步研究。

# 2019年11月04日 - - 2019年11月08日 周总结
# 刘晓旭
  - 1.移植taskbaricon主体内容到9.0
  - 2.移植taskbarIcon对应的接口和功能到9.0
  - 3.修改窗口DecorCaption界面，增加back、appname、appicon、setting、minimize组件，同时添加对应功能接口
  - 4.移植最小化功能到9.0.
# 罗浩
  - 1.添加taskbaricon主体内容到10.0
  - 2.添加taskbarIcon对应的接口和功能到10.0
  - 3.修改startupMenu中应用的启动方式和ActivityStarter中对应用是否支持多窗口的判断策略保证从startupmenu启动的应用均以窗口化运行，目前发现chrome特例，待解决
  - 4.添加最小化功能到10.0

# 2019年10月28日 - - 2019年11月01日 周总结
# 刘晓旭
  - 1.同步aosp9.0、aosp10.0源码。
  - 2.编译aosp9.0源码，且成功运行在x86模拟器上。
  - 3.aosp9.0上移植StartupMenu、StatusBar模块。
  
# 罗浩
  - 1.编译并使用emulator运行10.0 aosp-x86-eng
  - 2.分析源码，初步搞清楚10.0中应用启动的流程和LaunchParams的读取，判定以及影响启动的方式
  - 3.分析源码，搞清楚10.0的窗口调度策略基础
  - 4.分析源码，初步确定了10.0wm和am存在重构，重构变化趋势和目的尚不明确
  - 5.将startupmenu和openthosstatusbar从9.0版本移植到10.0.解决部分问题
  - 6.尝试移植taskbaricon到10.0,基本完成

# 2019年10月21日 - - 2019年10月25日 周总结
# 刘晓旭
  - 1.整理提交解决oto8微信欢乐斗地主、人人斗地主打开闪退问题。
  - 2.整理oto8 frameworks、base已提交的patches
    - [oto8多窗口内容总结](https://github.com/openthos/multiwin-analysis/blob/master/multiwindow/liuxx/oto8%20%E5%A4%9A%E7%AA%97%E5%8F%A3%E5%86%85%E5%AE%B9%E6%80%BB%E7%BB%93.md)

# 罗浩
  - 1.初步解决微信切换兼容模式闪退问题，仅偶发在安装后不进行登录情况下重启后登录按钮位置较为接近，自测不影响使用
  - 2.协助考虑整理openthos8.1 framworks/base部分patch的方法和思路以及对后续工作的意义
  - 3.分析android10多窗口部分代码，目前主要分析新增的mLauchParams的用法和对openthos的使用方案

# 2019年10月14日 - - 2019年10月18日 周总结
# 刘晓旭
  - 1.编译aosp8.1-r65分支源码，编译成功后，commit openthos8.1上frameworks/base下修改的所有patches，编译x86镜像运行在x86模拟器上，此部分工作已完成，用于多窗口测试平台。
  - 2.共同分析oto8微信兼容模式运行时，欢乐斗地主、人人斗地主打开闪退问题，已定位到与微信configuration update有关联，正在设计解决方案。

# 罗浩
  - 1.获取修改后的aosp_dragon代码，编译能够烧到pixel-c上的aosp8.1（具体文档之后完成）
  - 2.将frameworks/base下的修改打到上述aosp8.1上，在pixel-c上运行一个只包含frameworks/base内容的openthos，目前已知问题是兼容模式窗口和内容都过小。以及由于虚拟权限问题无法使用摄像头。
  - 3.定位微信闪退问题到LoadedApk中生成的context，提供初步修改方案。
  - 4.定位微信横评小程序无法启动问题，保证横竖屏的长宽数值对应则可顺利启动，已提供解决方案。

# 2019年10月08日 - - 2019年10月12日 周总结
# 刘晓旭
  - bug：oto8 office应用，当窗口左右半屏、最大化、全屏、窗口bottom大于StatusBar的top时，编辑菜单无法显示。
    - 1.之前通过设置office窗口bottom最大值为Display的高度，解决上述问题，通过测试发现，部分应用窗口高度与屏幕高度一致时，内容会被StatusBar遮挡；目前通过设置窗口resize时，控制窗口的bottom最大值等于StatusBar的top，可解决office窗口在左右半屏、最大化、窗口bottom大于StatusBar的top状态时，编辑菜单无法显示问题。而office窗口全屏时，无法显示编辑菜单的问题，正在分析解决方案。
    - 2.测试发现当Word在内容编辑界面，当窗口bottom >= StatusBar的top时，窗口无法向上下拖动，只能左右拖动，excel、ppt窗口不存在此问题，正在分析解决方案。
    
# 罗浩
  - 1.分析微信改变兼容模式后打开时会闪退的问题，找到了一种修复方案尚未提交
  - 2.共同分析office问题，目前认为和task以及taskstack的bounds变化有相关性，根据刘工的分析结果进一步分析提出了一种方案能够解决窗口模式和窗口最大化时对话框弹不出来的问题，bug2和全屏模式下对话框弹不出来的问题尚未分析明确


# 2019年9月23日 - - 2019年09月30日 周总结

# 刘晓旭
  - 1.bug：全屏时，鼠标移到顶部的右半部分的不会触发标题栏，已完成
  - 2.bug：Microsoft office全屏时所有需要弹出子菜单的功能均不可用，比如修改字体颜色等，待提交。
  
# 罗浩
  - 1.解决startupmenu在不打开应用的情况下无法接收键盘输入的问题
  - 2.分析bilibili滑动播放下一个视频时回变为纵向布局的问题。目前的结果是需要通过一次onConfigurationChanged来使得窗口重新调整布局内容之后则会正常，否则无法正常播放，不正常的原因仍然不明，目前确定的原因和DisplayMetrics，isInMultiwindowMode，onMultiWIndowModeChange和Activity的生命周期无关。

# 2019年9月16日 - - 2019年09月20日 周总结

# 刘晓旭
  - 1.bug：安装应用时最小化安装窗口会使系统软重启，安装抖音时最容易复现，已完成，同时处理了应用最小化时，进行startActivity，阻止应用onResume。
  - 2.bug：蓝牙匹配时，鼠标点击弹出的匹配窗口，窗口会到桌面下方而无法点击。已完成。
  - 3.bug：时钟计时器功能完成计时后崩溃。已解决自测有效，已提交测试。

# 罗浩
  - 1.完成通知问题，目前通知的弹出收取都重新调整，保证能够正常运作
  - 2.解决窗口移动到桌面下方会缩小的问题
  - 3.尝试分析并解决startupmenu在不打开应用的情况下无法接收键盘输入的问题

# 2019年09月09日 - - 2019年09月12日 周总结
# 刘晓旭
  - 1.bug：安装应用时最小化安装窗口会使系统软重启，安装抖音时最容易复现，通过定位分析在ActivityMetricsLogger.java中，当最小化时，String数组TRON_WINDOW_STATE_VARZ_STRINGS出现ArrayIndexOutOfBoundsException数组下标索引越界异常，导致系统软重启。
    - 解决方案：增加String数组TRON_WINDOW_STATE_VARZ_STRINGS对应的应用最小化状态时数值，避免数组下标索引越界异常。
    - 应用安装界面PackageInstaller打开时，在StatusBar上不显示状态图标，因此最小化时，应用安装完成后，界面仍处于最小化状态，无法关闭。
      - 解决方案：当PackageInstaller最小化时，应用安装完成或安装失败后，界面直接finish，目前正在调试代码。
  - 2.bug：时钟计时器功能完成计时后崩溃。通过定位分析，Android8.0也就是API26开始要求Notification设置Channel,否则会报错，而aosp8.1时钟app没有做相应适配，导致弹出Notification时crash。
    - 解决方案：在Notification创建时设置相应的NotificationChannel，目前正调试代码。

# 罗浩
  - 1.提交通知栏弹出的初步解决方案，仍有bug后续继续修改
  - 2.分析通知点击问题，确认需要focus来触发通知的可点击性，但会导致小通知弹出时屏幕其他区域点击无效，仍需进一步分析点击遮挡的原理。


# 2019年09月02日 - - 2019年09月06日 周总结
# 刘晓旭
  - 1.协助分析oto8通知栏实现流程，解决通知栏收到消息后，整体弹出问题。通过代码分析，此问题是早期通知栏设计实现，引出的问题，原生Android x86不存在此问题。目前初步设计解决方案：通知栏关闭状态下，收到消息后，在屏幕右上或右下弹出消息提示弹窗；在通知栏打开状态下，收到消息时，不弹出消息提示弹窗。
    - 基本已完成功能，整理代码中。
    - [Notification在SystemUi上的显示流程](https://github.com/openthos/multiwin-analysis/blob/master/multiwindow/liuxx/oto8%20Notification%E5%9C%A8SystemUi%E4%B8%8A%E6%98%BE%E7%A4%BA%E6%B5%81%E7%A8%8B.md)
  - 2.分析oto8系统语言显示流程，并协助修改。
    - [设置-系统-语言项显示加载流程](https://github.com/openthos/multiwin-analysis/edit/master/multiwindow/liuxx/oto8%20%E8%AE%BE%E7%BD%AE-%E7%B3%BB%E7%BB%9F-%E8%AF%AD%E8%A8%80%E9%A1%B9%E6%98%BE%E7%A4%BA%E5%8A%A0%E8%BD%BD%E6%B5%81%E7%A8%8B.md)

# 罗浩
  - 1.分析oto8通知栏实现流程，初步设计动态statusbarwindowview大小的设计，当大通知栏未打开时，需要弹出消息的时候则弹出和消息本体差不多大小的小通知栏，若在此期间用户通过satatusbar的按钮开启大通知栏则先让小通知栏的动画停止并使之随大通知栏一起重新显示，从而能保证当用户在次点击按钮隐藏大通知栏时，小通知栏也会一起消失。同时，在小通知栏显示的时候为了使之更自然，同时调整通知栏整体的layout结构，权重以及背景色，并将上述改动在大通知栏显示时回调，保证大小通知栏都能够正常显示。已经初步提供镜像给测试组进行测试，反馈没有问题，整理代码后下周一提交patch。


# 2019年08月26日 - - 2019年08月30日 周总结
# 刘晓旭
  - 1.协助分析、实现app在兼容模式下运行，建立CompatContextImpl，Display之间联系。已完成
  - 2.协助解决oto8鼠标滚轮问题（bug1：滚轮滚动到底部会回弹；bug2：文件管理器文件多于一屏，不能顺利打击文件），已完成。
  - 3.协助分析oto8通知栏实现流程，解决通知栏收到消息后，整体弹出问题。通过代码分析，此问题是早期通知栏设计实现，引出的问题，原生Android x86不存在此问题。目前初步设计解决方案：通知栏关闭状态下，收到消息后，在屏幕右上或右下弹出消息提示弹窗；在通知栏打开状态下，收到消息时，不弹出消息提示弹窗。

# 罗浩
  - 1.共同设计实现兼容模式下引入runmode概念来更正确地控制Display返回数据的策略
  - 2.共同分析并解决鼠标滚轮问题
  - 3.分析通知栏问题，初步设计方案

### 下周计划
  - 1.oto8通知栏收到消息频繁弹窗问题，实现初步设计解决方案。
  - 2.oto8其他优先级高的bug。

# 2019年08月19日 - - 2019年08月23日 周总结
# 刘晓旭
### 窗口兼容模式功能
  - 1.review、整理oto8手机兼容模式需求功能代码，并push至服务器。
  - 2.协助尝试设计、实现app在兼容模式下运行，建立Configuration、CompatContextImpl、Display三者之间联系，已初步实现功能。
  - 3.协助通过demo对比oto8、华为m6，返回给应用的相关多窗口的屏幕数据。

### 下周计划
  - 1.分析通知中心弹出过于频繁，影响操作，不能关掉问题。
  
# 罗浩
### 窗口兼容模式功能
  - 1.reviewto8手机兼容模式需求功能代码.
  - 2.协助尝试设计、实现app在兼容模式下运行，建立Configuration、CompatContextImpl、Display三者之间联系，已初步实现功能。
  - 3.分析和多窗口运行有关的API，协助设计通过demo对比oto8、华为m6，返回给应用的相关多窗口的屏幕数据。
  - 4.尝试在最新的兼容模式基础上修复京东的bug，待提交
  
### 下周计划
  - 1.oto8鼠标滚轮问题，确认最终解决方案。

# 2019年08月12日 - - 2019年08月16日 周总结
# 刘晓旭
### 窗口兼容模式功能
  - 1.bug：学堂在线横屏播放视频显示不完整
  - 2.bug：微信（705）聊天页面文本输入框长按文字没有菜单（只有窗口在屏幕左上方的情况下才有
  - 3.bug：微信（705）聊天页面文本输入框右键菜单跑偏
  - 4.bug：微信（705）超过两行的聊天消息长按不弹出菜单
  - 5.整理oto8手机兼容模式需求功能代码
  
# 罗浩
### 多窗口及窗口兼容模式功能
  - 1.bilibili全屏按钮无效问题
  - 2.协助解决学堂在线横屏视频显示不完整问题
  - 3.尝试通过runmode和onconfigurationchanged实现动态的隶属于兼容模式context的display内容
  - 4.协助整理oto8兼容弄模式功能代码

# 2019年08月05日 - - 2019年08月09日 周总结
# 刘晓旭
### 窗口兼容模式功能
  - 1.调试、整理oto8微信登录按钮重叠bug的解决方案，自测没问题，已提交测试组测试。
  - 2.分析oto8微信，editor长按内容，光标位置错位，以及文本编辑功能弹窗位置错乱bug；
    - 1.分析定位文本编辑功能弹窗错位bug，弹窗的显示区域是在FloatingActionMode.java的isContentRectWithinBounds方法中设置的，是通过Display的getRealSize方法获取屏幕宽高，设置整个屏幕为显示区域，而对于微信窗口，getRealSize获取的是当前窗口的大小，从而导致其位置显示不正常。
    - 2.分析内容光标位置错位bug，由于对微信适配，在微信专属的NewPhoneWindow中，针对FakeDecor的transforParent方法做适配，导致光标位置错位，目前设计的解决方案，在光标位置更新的地方，通过判断RootView是否是FakeDecor，对光标位置的y方向进行修正，解决此问题。

# 罗浩
### 多窗口
  - 1.基本解决京东APK窗口周围白边的问题。问题的具体成因是apk调用了canvas的drawcolor方法来绘制背景，而drawcolor方法会直接将整个Layer按照给定MODE绘制为给定颜色。在多窗口模式下，frameworks/base中定义了变量surfaceinsect，其大小根据dpi浮动，在创建surface时会在窗口原有大小的基础上将surfaceinset加到宽高上，使得申请的surface比窗口在上下左右方向各大出一部分，其目的不明确但猜测是通过native的方式来绘制窗口周围的阴影。由于drawcolor会直接绘制整个surface所处的layer，导致会将由于上述原因多出的部分也进行绘制，因此导致周围存在白色区域。解决方案是对drawcolor方法进行扩展，将其中的clipbase中的用于控制绘制区域的bounds进行调整，数据源则选取和窗口逻辑大小一直的canvas大小，在canvas调用drawcolor时将其宽高传入，并根据传入数值来界定绘制区域，保证不会有过渡绘制。京东仍存在一些多窗口问题，会继续解决。


# 2019年07月29日 - - 2019年08月02日 周总结

# 刘晓旭
### 窗口兼容模式功能
  - 1.bug：微信登录按钮重叠，经过之前分析、定位，由于资源文件没有更新，导致登录按钮获取padding值出错造成重叠，通过调用Resources的updateConfiguration方法更新资源文件信息，保证登录按钮获取正确的padding值，解决此重叠问题，目前通过在NewPhoneWindow&NewDecorView的onConfigurationChanged方法中调用Resources的updateConfiguration方法更新配置信息。通过此种解决方式，会导致登录界面更改语言，关闭重新打开后，语言不生效问题，可以在调用Resources的updateConfiguration方法时，设置Configuration的setLocales，解决此问题。

# 罗浩
### 多窗口
  - 1.分析京东窗口运行后周围白边的问题。由于白边的范围大于窗口的范围，因此绘制该白边是不可能通过Window-View体系来进行的。通过调整SurfaceInsets白边会随之变大变小，因此白边并没有获取某个固定值。根据个人目前的知识水平认为白边的存在要么是某些方式应用直接在Surface上进行了绘制，要么是应用给Surface所在的Layer赋予了某种属性。根据过去微信曾经存在的黑边问题其原因是微信赋予了Surface所在的Layer opaque属性，因此综合分析了Layer，Surface，NativeLayer，NativeSurface中存在的各种属性在白边存在与不存在时候的差异，结果上显示没有差异，因此白边不属于Layer属性导致的问题。综合分析了java层Surface，SurfaceController，Canvas的绘制和操作Log，并对部分个人认为会导致白边的操作进行了拦截，没有发现任何操作导致白边。目前认为白边可能是京东Apk中某些View直接在Surface上进行绘制导致的。但M6中没有此问题令人不解，一种可能使M6修改了SurfaceInsets导致Surface大小和窗口大小相当（Openthos中Surface会比窗口大小大一些用以显示阴影），所以即便有白色底色也不会以白边的形式显示出来。目前仍旧继续分析白边究竟是是什么并寻找解决方案，若仍无从解决且必须要解决该问题则可以修改SurfaceInsets并通过Window-View体系来为窗口增加阴影即可解决类似的由于SurfaceInsets导致的显示问题，个人认为这类问题目前出现较少，但阴影本身确实也存在著多问题（例如引用大小不定，阴影部分抖动等）具体如何修改仍应从长考虑。

# 2019年07月22日 - - 2019年07月26日 周总结

# 刘晓旭
### 窗口兼容模式功能
  - 1.协助解决bug：IT之家、微博等应用部分界面图片在兼容模式下仍然显示不全问题。
  - 2.解决bug：京东、唯品会等部分应用模式切换提示框显示不全问题。
  - 3.分析、调整测试兼容模式窗口尺寸与应用图片过大显示不全问题。
  
# 罗浩
### 窗口兼容模式功能
  - 1.解决兼容模式下图片显示不全的问题，大多数应用已经没有问题，少数应用由于资源大小固定需要调整窗口宽高来适应
  - 2.解决部分整体或局部内容应用兼容模式仍不生效的问题，问题成因主要是对于不分context的构建没有进行监控，目前基本得到解决
  - 3.分析京东窗口周围白边问题，目前可以确定该白边不属于view, surface和layer层面的问题，从window和activity层面分析仍未明确其究竟是什么，仍需时间进行分析和解决。

# 2019年07月15日 - - 2019年07月19日 周总结

# 刘晓旭
### 窗口兼容模式功能
  - 1.oto8手机兼容模式技术交流汇报。
  - 2.整理oto8手机兼容模式相关API函数列表。
  - 3.分析oto8微信7.0.5聊天界面，右上角弹窗位置错位问题，经过分析定位，是由于之前NewPhoneWindow中getWindowVisibleDisplayFrame方法提交缺失内容引起，增加缺失内容，此问题，以及个人朋友圈时间条目错位问题均可解决。
  - 4.协助解决bug：部分应用强制横竖屏模式时标题栏按钮偏移严重（例如：影梭、wps邮箱的查看邮件页面、愤怒的小鸟进入游戏时、buttons and scissors进入游戏时、微博）。
  - 5.分析oto8微信7.0.5长按消息，文字选择光标以及弹窗位置错乱问题，正在定位问题。

# 罗浩
### 窗口兼容模式功能
  - 1.协助参与oto8手机兼容模式技术交流汇报。
  - 2.协助解决bug：部分应用强制横竖屏模式时标题栏按钮偏移严重
  - 3.解决bug：微信705兼容模式失效，webview兼容模式不生效
  - 4.解决bug：微信登陆界面按钮重叠（自测通过待测试
  - 5.解决bug：部分应用如微信新闻/公众号等图片显示不正常
  - 6.分析仍显示不正常的图片和视频缩略图


# 2019年07月09日 - - 2019年07月12日 周总结

# 刘晓旭
### 窗口兼容模式功能
  - 1.bug：全屏模式只能通过开始菜单启动才有效，命令行、桌面图标和应用商店启动全屏模式的应用均为窗口大小。最初考虑不周，对于全屏模式只是在开始菜单做了处理，导致其他方式打开应用，全屏模式不生效，目前通过在AMS端统一处理，即可解决此问题。已完成。
  - 2.bug：部分应用强制横竖屏模式时标题栏按钮偏移严重（例如：影梭、wps邮箱的查看邮件页面、愤怒的小鸟进入游戏时、buttons and scissors进入游戏时、微博），通过测试分析，在兼容模式下运行，应用进程关闭重启，会导致应用的屏幕缩放density会还原为屏幕默认density，从而导致标题栏按钮偏移严重，正在设计解决方案。

# 罗浩
### 窗口兼容模式功能
  - 1.webview问题基本的到解决，并考量在Context中增加通用接口让持有者判断所持Context是否为NewContext来对特定情况作出反馈，来进一步保证控制流的完整。WebView问题可以通过在DisplayManager中根据所持Context类型对返回的Display进行标记，得到标记的Display在提供getRealMetrics接口的数据时对其进行伪装，保证兼容模式下WebView的大小和其余组件一致。在微信704版本上测试通过
  - 2.对于微信公众号/部分订阅号中图片显示不全的问题根源在于显示图片的容器大小是根据返回的DisplayMetrics的heightPixels来决定的。根据之前刘总的要求，同意返回1080x1920的纵向分辨率，或者返回1920x1080的横向分辨率，这使得直接使用该数值进行计算来决定高度的控件处在一个错误的高度上。若直接更改兼容模式锁定的分辨率这一问题会迎刃而解。但会导致与刘总的需求不符。若不更该这一分辨率则需要全面地对View的Measure进行干涉，首先需要判断该View是否在决定大小时使用了屏幕分辨率，其次要对其实际大小进行更改，更改时机还要正确足以覆盖应用本身对其的控制。这样看来这一做法将非常复杂。经过二人小组讨论，应用所使用的资源，字体大小等内容都是由dpi决定的，若应用所使用的dpi由兼容模式锁死，则目前所测试的应用均不会错误地加载低清晰度的资源，若存在某些应用真的以长宽来判断资深资源的加载，届时可以提供另一种将宽高锁定为1920x1080的兼容模式来适配这类应用。若存在相矛盾的应用则再提供更精细的兼容模式来保证其运行稳定。这种策略更加符合设计，也更加方便维护和灵活。
  - 3.小幅度调整高斯模糊代码并交给测试进行测试，测试由于本周更多地忙于测试兼容模式方面的问题因此收到回复较晚，测试认为没有太大问题，下周会找其他工程师进行review并考虑提交

# 2019年07月02日 - - 2019年07月08日 周总结
# 刘晓旭
### 窗口兼容模式功能
  - 1.oto8手机兼容模式切换，优化之前模式切换时停止应用进程，清除最近列表实现，修改模式切换时强制停止当前应用，再次打开应用时，模式生效。
  - 2.oto8手机兼容模式，优化应用运行模式存储方式，在AMS中增加Hashmap，通过应用packageName、运行模式键值对形式存储应用的运行模式，同时在运行模式发生变化是，更新Hashmap表信息，并存储序列化Hashmap表到系统数据库中，在系统关机重启时，AMS服务启动时，反序列化Hashmap表，用于判断createAppContext创建兼容模式NewContextImpl还是标准模式ContextImpl。

# 罗浩
### 窗口兼容模式功能
  - 1.主要分析webview显示大小不正确的问题，由于问题较为复杂分析和解决方案尝试花费了整周的时间也没有得到很好的方法。对于webview而言，微信在启动时会根据packageContext来进行大小的选择和读取，其读取方式主要根据源自display的displaymetrics进行。但packageContext只会构造一次，之后会直接使用和包名对应的已经构造好的内容，因此在使用模式切换时无法根据packageContext来反映切换后的内容。且直接修改packageContext会由于其和其他应用共用的内容而导致其他应用显示不正常，经常出现的是开始菜单会显示不正常。但若不去拦截packageContext则会100%导致第一次打开微信时webview不会根据兼容模式所指定的大小来显示。目前尚未尝试的一个可能的方法是在NewContexImpl中进行调整的同时对packageContext也进行拦截，由于切换显示模式会导致应用的强制停止，强制停止之后的微信再次运行时会去依赖NewContextImpl来进行构建自身的内容，虽然证据尚不明确（没有在源码中找到对应位置，很可能是微信自身所采取的措施），但多次实验表明这种情况下NewContextImpl的设置优先级要高于packageContext，因此不用考虑不会重新构建的packageContext因为第一次启动微信时由其决定的内容在模式切换后必将由NewContextImpl来决定，所以两者同时拦截控制是一个也许会有效的方案。
  - 2.协助设计部分兼容模式其他功能并讨论其实现细节

# 2019年06月25日 - - 2019年07月01日 周总结
# 刘晓旭
### 窗口兼容模式功能
  - 1.解决切换窗口运行模式弹窗样式不统一问题，已解决
  - 2.解决切换窗口运行模式弹窗，选择取消切换后，点击任意DecorCaption弹出提示弹窗问题，已解决；
  - 3.共同分析兼容模式获取方式的构建来似的无法获取ActivityRecord的Context也能够依据兼容模式来创建，方案：在AMS中设计存储应用运行模式静态表，用于无法获取ActivityRecord的Context也能够依据兼容模式来创建。

# 罗浩
### 高斯模糊功能
  - 1.初步整理代码
  - 2.优化计算模糊区域的性能，并分析性能损耗的重点，但没有找到合理的解决方案
### 窗口兼容模式功能
  - 1.分析微信重启后兼容模式失效的原因，找到原因并初步解决
  - 2.分析微信调整字体后兼容模式失效的原因，找到原因并初步解决
  - 3.分析微信704小程序无法使用的原因，找到原因并初步解决
  - 4.共同分析兼容模式获取方式的构建来似的无法获取ActivityRecord的Context也能够依据兼容模式来创建

# 2019年06月18日 - - 2019年06月24日 周总结
# 刘晓旭
### 窗口兼容模式功能
  - 1.优化ActivityThread中createAppContext中ContextImpl创建，设置系统应用创建ContextImpl，第三方应用创建NewContextImpl。
  - 2.oto8微信窗口显示密度是通过获取系统分辨率，动态计算得到的，目前针对微信窗口密度缩放，可以提供微信1366x768系统分辨率，这样微信计算得到的窗口密度是1.0f，从而实现在强制手机模式下，微信窗口密度的缩放。这种针对微信的缩放方式目前自测有效，已生成最新patch提供给测试进行测试。
  - 3.oto8微信窗口密度缩放，另一种实现方案：提供微信1920x1080系统分辨率，固定微信屏幕密度1.0f进行缩放，同时拦截微信动态更新屏幕密度，目前可以实现窗口4中运行模式下，除了强制手机模式横、竖屏之前无法动态切换外，其他模式之间可以实现动态切换，接下来分析强制手机模式横、竖屏之前无法动态切换的问题。

# 罗浩
### 高斯模糊功能
  - 1.模糊问题基本解决，剩余部分特殊窗口和frameworkbase方面的特殊情况的处理，较为繁琐
  - 2.性能评估上目前来看在性能较差的同方笔记本上不开启模糊的情况下12个应用会开始卡顿，开启的情况下则大约为10个，在性能较好的gigabyte上开启模糊的情况下打开20个应用也不会感觉明显卡顿
  - 3.对代码进行了初步整理，可以提交一个不尽完善的初步版本
  - 4.进一步调整了重绘和模糊的策略，小幅度提高性能，目前性能瓶颈主要在于获取模糊内容上，且没有明确的方法能够进一步优化。

# 2019年06月11日 - - 2019年06月17日 周总结
# 刘晓旭
### 窗口兼容模式功能
  - 1.修改应用窗口默认打开样式：系统应用默认打开桌面样式，第三方应用默认打开手机样式。
  - 2.解决应用在兼容模式下运行，提示“Android WebView crashed”问题。
  - 3.分析微信（7.0.3）小程序界面在兼容模式下不显示内容问题：测试发现标准模式下，修改系统分辨率后，微信小程序界面同样不显示内容，只有关机重启或者卸载重新安装，小程序界面才能显示内容，还未定位到问题原因。
  - 4.微信小程序界面是通过WebView显示的，在兼容模式下窗口分辨率不会缩放，测试在手机上同样有此问题存在。
  - 5.窗口兼容模式设计目前在微信最新版（7.0.4）上不生效，通过分析定位到微信（7.0.4）是根据9.6英寸设备并获取当前分辨率计算出适配应用窗口的密度，正在设计对于微信最新版兼容模式的解决方案。

# 罗浩
### 高斯模糊功能
  - 1.调整了外阴影的大小，取消了内阴影，目前阴影看上去更柔和且不影响透明功能
  - 2.屏幕中SysmteUI和最前窗口截图时颠倒问题已解决
  - 3.初步完成只针对背景的透明，但由于处理时机的问题，在窗口切换的时候会导致窗口在变的不透明之前先一步失去模糊
  - 4.仍需进一步整理和完善部分功能代码，例如glsl的控制以及高斯模糊专用的方法的设计


# 2019年06月04日 - - 2019年06月10日 周总结
# 刘晓旭
### 窗口兼容模式功能
  - 1.应用窗口在普通模式、全屏模式、强制手机模式（横、竖屏）之间切换已实现完成
  - 2.应用窗口在强制手机模式（横、竖屏）模式下时，窗口禁止缩放，以及窗口拖动到屏幕顶部、左右两侧时，禁止停靠。
  - 3.窗口最大化按钮只有在普通模式下可见。
  - 4.系统应用窗口，只提供普通模式、全屏模式功能切换，第三方应用提供四种功能模式切换。
  - 5.兼容模式切换时，应用需要关闭，重新打开，且关闭时，应用进程关闭，并从最近列表中清除应用信息。
  
# 罗浩
### 高斯模糊功能
  - 1.噪点问题已解决
  - 2.透明的实现会影响非背景组件，采用另一种方式实现只针对背景的透明，这一功能需要
    - 1.调整内阴影大小，目前仍需时间了解阴影的构件方式
    - 2.为content和decorview灵活设置background，不确定这种background的切换是否会带来额外的性能开销。
    - 3.处理使用各类不通drawable作为background的decorview，这种处理只能够通过经验分析完成
  - 3.提供了能够开启和关闭移动时保持模糊的镜像给UI和测试进行体验，根据反馈似乎性能影响可以接受。
  - 4.仍需分析和解决屏幕截图中systemui颠倒的问题

# 2019年05月28日 - - 2019年06月03日 周总结
# 刘晓旭
### 窗口兼容模式功能
1.目前进展：
  - UI设计：已完成
  - 功能实现：普通模式、全屏模式功能切换已完成，强制手机模式（横、竖屏）功能正在设计代码实现流程

2.问题：
  - 1、强制手机模式（横、竖屏），是对应用获取的屏幕信息进行拦截、伪装，模拟应用在手机设备上窗口运行环境。应用获取屏幕信息的两种方式：
    - 应用通过Resources资源获取的屏幕信息，已实现拦截、伪装；
    - 应用通过WindowManager.getDefaultDisplay获取屏幕信息方式需要调研如何通过通用方式进行截获。
  - 2.应用在强制手机模式下运行，图片无法满铺窗口显示问题，已定位出原因，需要设计具体实现方案。
  - 3.同一个窗口，应用在强制手机模式下打开非强制手机模式下运行应用的界面，需要设计具体实现方案。
  - 4.部分应用（例如微信）窗口化运行时，应用内PopupWindow弹窗弹出位置错乱，已定位出原因，需要设计具体实现方案。

3.6月底进展
  - 实现窗口运行模式（普通模式、全屏模式、强制手机模式（横、竖屏））切换功能
  - 实现强制手机模式下，应用通过Resources以及WindowManager.getDefaultDisplay方式获取屏幕信息截获，并伪装，实现主流应用在强制手机模式下初步适配。
  
4.功能测试
  - 不考虑解决上面提到的问题，6月15日可以提交初步功能测试

# 罗浩
### 高斯模糊功能
1.目前进展：
  - 采用kawase算法进行高斯模糊
  - 实现glsl语言的高斯模糊算法
  - 实现surfaceflinger层对高斯模糊的控制
  - 实现base到native高斯模糊相关flag和rect的传递
  - 初步实现对focus变化，窗口拖动缩放，windowlayer重新建立等事件进行响应来设置高斯模糊相关的flag和rect

2.问题：
  - 更高效高斯模糊算法由于api问题无法实现（但kawase算法已经属于比较高效的范畴）
  - 色差较大的垂直分界线附近会发生噪点（应该需要改进算法
  - 对性能的影响几乎无法避免
  - 具体机制仍需进一步讨论（全屏，窗口全屏，特殊窗口，系统窗口等的模糊方式和区域）
  - 目前只能模糊一个完整的rect，若想要模糊多个rect组成的region还需要时间

3.6月底进展
  - 尝试解决噪点问题
  - 尝试完善模糊功能
  - 尝试提高模糊性能
  
4.功能测试
  - 本周着力解决噪点问题，若能够解决下周可提交测试，之后分步完善模糊功能和提高性能

# 2019年05月21日 - - 2019年05月27日 周总结
# 刘晓旭
  - 1.拦截、伪装Resources持有的DisplayMetrics数据，微信朋友圈图片无法满铺窗口预览问题，分析由于伪装的densityDpi与Bitmap持有的density两者不一致导致的，只是让两者保持一直，微信此问题可以解决，但对于有些应用需求，两者可能需要不一致。所以初步的解决方案是特殊应用特殊处理。
  - 2.强制手机模式：拦截、伪装应用通过Context获取屏幕相关信息API，解决方案：设计兼容性ContextImpl（NewContextImpl，继承ContextImpl）实现类，重写ContextImpl的createAppContext、createActivityContext、getResources方法，拦截、伪装Resources持有的DisplayMetrics数据，并在Resources的updateConfiguration方法内拦截DisplayMetrics更新。自测此设计方案生效。
  
# 罗浩
  - 1.解决窗口处于屏幕边界处的错误显示问题
  - 2.完成从base到native的rect值传递路线，目前能够成功传递模糊rect
  - 3.进一步优化设置模糊flag的时点，自测目前的设置相对合理

# 2019年05月13日 - - 2019年05月20日 周总结

# 刘晓旭
近两周强制手机模式相关进展

以微信为例，最终实现应用在强制手机模式下运行。

之前针对微信已完成的工作包括：（1）设计新的窗口实现类NewPhoneWindow，修改view显示的层级结构，增加定义FakeDecor，同时修改接口getDecorView，返回给应用FakeDecor，避免微信操作窗口标题栏DecorCaptionView。（2）修改微信各控件屏幕坐标：拦截微信中各事件获取的坐标，在大屏幕上窗口化显示应用，Event事件获取的坐标增加窗口左上角坐标偏移值，模拟绝对坐标显示。（3）拦截、伪装微信通过资源文件获取的屏幕像素值为当前窗口宽、高。

近两周针对微信做的工作：

（1）微信获取屏幕分辨率方式：context.getResources().getDisplayMetrics()，初步设计拦截、伪装Resources持有的DisplayMetrics对象，返回给微信一套屏幕伪集。在NewPhoneWindow的getResources、onConfigurationChanged方法中拦截、伪装，微信内容部分显示生效，仅仅在NewPhoneWindow中无法做到全部拦截。

（2）接着设计在context创建时拦截、伪装Resources持有的DisplayMetrics对象。应用持有的context类型只要包括三种：Applition、Service、Activity，一个应用context的数量为1个Application+Service个数+Activity个数，而各种类型的Context提供的相关接口最终都是在ContextImpl实现类中完成的，在Activity、Service中持有ContextImpl对象实例来实现context接口调用，Activity、Service持有的ContextImpl对象是通过ContextImpl实现类中createActivityContext、createAppContext方法创建、绑定到Activity、Service中的。

（3）在ContextImpl实现类中createActivityContext、createAppContext方法中时创建了context持有的Resources对象，拦截、伪装Resources持有的DisplayMetrics对象，调试应用还是无法实现全部拦截、伪装；通过分析View获取getContext.getResources的Resources实例对象，对比ContextImpl中创建的Resources实例对象，两者不是同一个实例，因此拦截、伪装不生效，而createActivityContext、createAppContext创建context方法中LoadedApk对象表示加载过的应用apk，其持有应用的相关信息，通过LoadedApk.getApplication.getResources获取的Resources实例与View.getContext.getResources实例是同一个实例对象，对此Resources对象拦、伪装，调试应用在操作过程中会出现部分内容拦截失效，通过分析微信操作过程中DisplayMetrics参数的变化，定位到应用可以通过Resources中updateConfiguration方法更新DisplayMetrics数据，设计拦截DisplayMetrics的更新，调试微信应用，当进入朋友圈后，在回退到发现页面，DisplayMetrics数据拦截失效，且在朋友圈页面滚动数据时，出现窗口会向左上角偏移、点击错位情况，部分朋友圈信息DisplayMetrics拦截失效。分析DisplayMetrics数据，定位到在NewPhoneWindow的getSpecialDecor方法中mAppcontext.getResources.getDisplayMetrics获取的DisplayMetrics实例数据重置为默认值，通过DisplayMetrics的setTo方法更新应用获取的DisplayMetrics，导致朋友圈内容拦截失效。通过ContextImpl的getResources方法修改DisplayMetrics数据，实现拦截、伪装应用获取DisplayMetrics。

微信存在的问题：

（1）微信的初始页面，登录、注册按钮重叠问题，其是根据屏幕尺寸设置按钮margin值，拦截、伪装DisplayMetrics数据导致按钮重叠显示，而当获取真实屏幕尺寸是，按钮正常显示。

（2）微信朋友中图片显示问题，拦截、伪装DisplayMetrics数据导致朋友圈图片无法满铺窗口显示。

（3）微信朋友圈拦截失效问题，由于在NewPhoneWindow的getSpecialDecor方法中mAppcontext.getResources.getDisplayMetrics获取的DisplayMetrics实例数据重置为默认值导致此问题，但是mAppcontext.getResources获取的Resources实例没有发生变化，Resources的updateConfiguration没有被调用，DisplayMetrics的setTo没有被调用，DisplayMetrics数据如何被重置为默认值暂未分析出原因。

（4）当前应用访问其他应用界面时，拦截失效。

# 罗浩
近两周高斯模糊相关进展

完成了从Frameworks/base到frameworks/native中控制高斯模糊开启与否的开关的添加。并尝试在frameworks/base中找寻调用这一开关方法的位置，目前采用的方法是focus变化时以及layer显示到最前时进行判断，还要判断对应layer是否处于被拖动的状态。同时在native方面判断所调用的layer是否为最前的符合规定窗口类型的layer，这样来避免base到native交互的异步性质导致的瞬间错误。经过目前的调整在应用关闭时偶发模糊不生效的情况，其余情况大致没有问题。

之后在解决模糊区域和屏幕显示区域不完全重合的情况下（例如模糊窗口的一部分移动到屏幕外侧时）模糊区域的显示会出现问题，分别考察了屏幕左边，上边和右边对于模糊区域的边界影响，并调整glViewPort的界定完成了对这部分显示错误的规避。下边在影响内容的同时会对layer进行缩放，目前仍在探索如何回避下边引发的显示错位。

同时根据模糊算法，当模糊边界位于屏幕边界时，由于取到屏幕外的像素均为黑色所以会导致模糊黑边，目前分别在左右上边添加了边界判断并成功将内容传递到glsl中，大致上规避了屏幕边界的黑边。

在解决完成下边界对显示内容的影响后则会开始着手进一步完善模糊开关的时机，之后完成模糊区域数值信息从base到native的传递，并模糊。之后完成窗口的透明以保证模糊效果能口看出，并评估性能是否符合要求，预计仍需要至少3周的实现，2周后会提交最新进展。

# 2019年04月23日 - - 2019年04月29日 周总结
# 刘晓旭
  - 1.bug：oto8桌面可以缩放；
  - 2.oto8：与苗德行配合完成相机权限动态管理选择物理、虚拟摄像头功能；
  - 3.oto8：分析实现多窗口应用强制手机模式运行。

# 罗浩
  - 1.进一步分析如何实现分段pass的高斯模糊方法，目前的解决方案是通过将OpenGL与一个自己建立的Texture进行绑定，将Layer的内容画到Texture上，之后进一步以此Texutre作为下次绘制的Texture并更新RenderEngine标志，保证再绘制上一步结果所保存的Texture时采用新的模糊算法或更新参数。每当进行重新绘制时都需要对viewport进行更新，重复这一步骤直至达到模糊效果位置。对于刘总提供的论文中的数个算法而言，论文最为推崇的computeshader算法由于其中间结果处理的方式以及对OpenGL API的使用与SurfaceFlinger并不兼容，经过一番探索初步认为该方法无法作用在SurfaceFlinger的Layer绘制步骤。目前在尝试将论文中提供的另一种经典算法的改进版本作用在SurfaceFlinger中，并考察效果和性能。同时参考其他实现高斯模糊的系统rom尝试了一种新的模糊实现方式，在绘制最顶层窗口时，先将窗口下方内容重绘并进行模糊作为Texuture绘制到顶层窗口所在的Layer中，再将顶层窗口的内容绘制，当顶层窗口不发生位移的情况下，该Texture无需改变。这一方法在多窗口的基础上似乎效果并不会很好，因为多窗口每次刷新需要重绘的Layer较多，且位置以及遮挡内容频繁变化，相较之下也许不如分层计算模糊区域来的高效。目前对于算法的应用以及模糊区域的计算，模糊效果的应用等仍需进一步探讨。
  - 2.补充多窗口设计文档

# 2019年04月16日 - - 2019年04月22日 周总结
# 刘晓旭
  - 1.首次配置，权限管理器设计文档；
  - 2.完善多窗口-DecorCaption设计文档；
  
# 罗浩
  - 1.探索实现高斯模糊效果的方法，初步尝试在SurfaceFlinger中Layer渲染时通过改编RenderEngine状态来标志高斯模糊，并根据标志来调整渲染时传入GPU的glsl语句来实现single-pass的高斯模糊。对于高斯模糊的边界则是在SurfaceFlinger的computeVisibleRegion的时候一并计算，对于第一个可见的App窗口的可见区域进行获取，并通过将之后的窗口可见区域与该区域进行交运算来获取每一个Layer所需要进行高斯模糊的区域。目前仍存在的问题是不清楚如何采用分步pass的方式来连续使用glsl语句更高效地进行高斯模糊处理，以及对于非app窗口的处理方式，更进一步来说就是应该采取何种高斯模糊算法，以及刘总提供的论文中所使用的几个算法哪些能够应用在SurfaceFlinger中那些由于GL版本以及API供给亦或是处理步骤的问题不能够使用。当然，对从frameworks/base->SurfaceFlinger的整体代码设计也要在探讨清除上述问题，确定高斯模糊所带来的性能损耗是否可以接受，以及应该进行怎样的设计来权衡效果与性能的损耗之后再做定夺。
  - 2.协助完成openthos8.1多窗口设计文档的概述，多窗口的必要性，AOSP窗口管理变迁，AOSP的多窗口，其它Android多窗口，多窗口基本需求多窗口设计的概述，应用兼容性，SystemUI设计的概述，交互功能设计等章节的主题框架和附加内容撰写。

# 2019年04月09日 - - 2019年04月15日 周总结
# 刘晓旭
  - 1.oto8：最大化窗口后再以桌面模式重启，窗口会没有标题栏，完成
  - 2.oto8：最大化窗口后鼠标移到屏幕最上方拖动，窗口会没有标题栏，完成
  - 3.oto8：鼠标在窗口外较远的地方仍然可以拖动窗口，完成
  - 4.oto8：根据新的ui，修改decorcaption布局，完成50%

# 罗浩
  - 1.解决微信宽度问题，分析微信高度问题，已解决未提交
  - 2.将应用moveActivityTaskToBack方法等同给最小化方法，并同时保证任何情况下home不会浮于其他窗口上方
  - 3.初步分析阴影和窗口透明相关问题的矛盾点并探究解决方案，初步发现一个解决方案，但该方案会使得阴影变得比较小
  - 4.分析实现毛玻璃效果高斯模糊的位置和可行性，具体文档之后会给出
  - 5.尝试编译刘总提供的高斯模糊算法应用，编译成功，无法运行，在win10电脑上尝试源码包中的exe执行文件也无法运行
  - 6.分析office登陆界面没有caption的问题，究其原因是因为该界面属于Dialog建立的floating窗口，本就不应该有caption，目前的拟定通过提供一个专门的phonewindow来使得其能够作为一个有caption的floting-window存在，同时解决其内部的窗口显示问题。
  - 7.尝试对特定窗口使用虚拟density数据来改编R中内容的大小，这一改变能够使得部分窗口内容的大小更为合理但会使得其尺寸过小。根据刘总的需求，希望今后能够实现一个强制手机/桌面模式使得其尺寸为强制1920x1080，这样的话就务必要对窗口内容的尺寸进行等比例缩放，同时也会出现在窗口比较小的时候内容过小的情况，因此无论是这种实现方式还是这一需求都有必要进一步考虑其可行性和必要性。

# 2019年03月25日 - - 2019年03月29日 周总结
# 刘晓旭
  - 1.oto8窗口状态记录，包括最大化，全屏，左右停靠
  - 2.oto8窗口修复左右停靠时，横竖切换按钮隐藏不显示
  - 3.分析oto8 狂野飙车8、央视影音、佳能打印打开闪退
    - 央视影音hd：java.lang.UnsatisfiedLinkError: dlopen failed: "/data/user/0/cn.cntvhd/files/libexec.so" has unexpected e_machine，log显示与libexec.so库有关，而在凤凰OS7.1上，可以正常运行，分析与x86库加载有关。
    - 佳能打印：java.lang.NullPointerException: Attempt to invoke virtual method 'android.net.wifi.p2p.WifiP2pManager$Channel android.net.wifi.p2p.WifiP2pManager.initialize，在凤凰OS7.1上，同样无法运行，error相同，对比oto2.0 8.1 分析与WifiP2pManager更新有关。
    - 狂野飙车8：还没有分析出问题。
    
# 罗浩
  - 1.初步完成使用新的PhoneWindow-DecorView结构来完成微信窗口适配的功能
  - 2.分析新版微信内容被遮挡和聊天界面标题栏错位问题，初步解决
  - 3.分析新版本微信点击事件偏移问题，初步解决
  - 4.分析部分应用仍会移动到Launcher下方问题，初步找到解决方案

# 2019年03月25日 - - 2019年03月29日 工作计划
# 刘晓旭
  - 1.设置、保存oto8窗口最大化、docked状态flag，简化代码
  - 2.分析oto8 狂野飙车8、央视影音、佳能打印打开闪退
  - 3.分析oto8 泰瑞呢、buttons and scissors、剪绳子、开心消消乐、模拟炒股、学堂在线等应用标题栏无手机桌面模式切换按钮

# 罗浩
  - 1.oto8 微信适配

# 2019年03月18日 - - 2019年03月22日 周总结
# 刘晓旭
### 本周任务
  - 1.oto8窗口标题栏自动隐藏功能
  - 2.oto2最新版微信聊天界面空白bug

# 罗浩
### 本周任务
  - 1.解决应用图标泛白问题
  - 2.将应用图标容器设置为可滚动，保证不会因为应用图标过多而挤压statusbar的其他内容
  - 3.通过新的thread来进行应用图标lock信息的存储，以保证UI流畅
  - 4.调整启动过程中获取系统应用列表的flag，保证能够完整获取应用列表，不再必需要打开一次开始菜单
  - 5.调整应用图标点击事件，长按图标弹出菜单时不会触发打开应用行为

# 2019年03月18日 - - 2019年03月22日 工作计划
# 刘晓旭
  - 1.oto8窗口标题栏自动隐藏功能
  - 2.设置、保存oto8窗口最大化、docked状态flag，简化代码
  
# 罗浩
  - 1.进入系统后，首次打开开始菜单，任务栏第一个应用图标会泛白（概率复现）
  - 2.修改SystemUI任务栏应用图标显示布局。

# 2019年03月11日 - - 2019年03月15日

# 刘晓旭
### 本周任务
  - 1.oto2：设置-无障碍里的"Pico TTS"需屏蔽
  - 2.oto8：窗口增加全屏按钮
  - 3.oto8：窗口最大化拖动标题栏变为小窗口
  
### 下周任务
  - 1.oto8：窗口标题栏自动隐藏功能
  
# 罗浩
### 本周任务
  - 1.修复对话框（floating-window）无法点击的问题
  - 2.修复最小化全屏窗口时桌面黑屏的问题
  - 3.修复全屏窗口最小化后还原为窗口化的问题
  - 4.另开线程进行taskbar图标的序列化来保证UI流畅（目前未遇到卡顿，但防患于未然）
  - 5.初步分析最小化应用后从打开应用时SystemUI崩溃的问题
  - 6.修改openthos2.0浏览器的apk和初始数据包，以达到修改主页的目的。
  
### 下周任务
  - 1.解决最小化应用后打开应用时SystemUI崩溃的问题
  - 2.其他多窗口问题

# 2019年03月04日 - - 2019年03月08日
# 刘晓旭
### 本周任务
  - 1.测试，提交oto8窗口记忆功能
  - 2.oto8窗口最大化按钮、双击窗口caption进入Fullscreen模式，修改为在Freeform模式下缩放到全屏
  - 3.oto8窗口增加全屏按钮，已完成，未提交
  - 4.oto8窗口最大化时，拖动窗口，窗口还原之前窗口化大小，在调试中。

### 下周任务
  - 1.调研分析，实现oto8窗口最大化时，窗口caption随鼠标hover显示、隐藏
  - 2.其他多窗口问题。

# 罗浩
### 本周任务
  - 1.调整taskbar图表的保存方案，保证其有序性
  - 2.调整AMS和taskbar图标之间的接口数据结构，把从ActivityRecord中获取改为直接从TaskRecord中获取保证图标和TaskRecord的严格绑定关系
  - 3.改用packageName记录之前focus的图标。
  - 4.调整homeActivity相关机制，解决launcher会打开多个，以及全屏下关闭应用laucher会覆盖其他应用的bug
  
### 下周任务
  - 1.其他多窗口相关问题
  - 2.初步尝试将应用适配代码进行整合（以微信为主）

# 2019年02月25日 - - 2019年03月01日
# 刘晓旭
### 本周任务
  - 1.oto8窗口最大化按钮、双击窗口caption进入Fullscreen模式，修改为在Freeform模式下缩放到全屏。
  - 2.oto8窗口记忆功能代码合并，存在问题：应用启动打开，会判断是否遮挡已存在窗口，如果遮挡，应用无法打开，正考察解决方案

### 下周任务
  - 1.oto8窗口在最大化下，caption随鼠标hover显示、隐藏
  - 2.分析考察窗口记忆时，遮挡已存在应用时无法再打开其他应用。
  
# 罗浩
### 本周任务
  - 1.提交之前针对Launcher焦点和SystemUI方面的工作，但仍存在一些细节问题
  - 2.解决部分应用opaque问题
  - 3.修正SystemUI中序列化方法的异常处理
  - 4.修改应用启动流程，使得通常情况下应用会多窗口启动，并提供接口使得系统应用能够设置启动应用的窗口大小
  - 5.修复已存在窗口的packageName发生变化时会多出一个图标的问题
  
### 下周任务
  - 1.解决序列化存取图标乱序问题
  - 2.其他多窗口相关问题
  
# 2019年02月18日 - - 2019年02月22日
# 刘晓旭
### 本周任务
  - oto8窗口记忆功能, 已基本实现功能，还有部分细节需要讨论后确认实现

### 下周任务
  - oto8多窗口其他问题。


# 罗浩
### 本周任务
  - 1.初步实现不遮挡的Launcher获取焦点方案
  - 2.分析并定位部分应用窗口从最大化还原后背景变黑的原因并考察解决方案
  
### 下周任务
  - 基于9.0.0_r30考察多窗口部分8.1的目前工作移植到9.0的工作量。

# 2019年02月11日 - - 2019年02月15日
# 刘晓旭
### 本周任务
  - 1.完善用户手册
  - 2.分析oto8窗口记忆功能实现。

### 下周任务
  - 1.继续分析oto8窗口记忆功能实现。
  
# 罗浩
### 本周任务
  - 1.分析使launcher在不遮挡其他应用的情况下获得焦点的方式，目前认为“不遮挡其他应用的情况下获得焦点”与android在wms端的处理策略相违背，应采用其他逻辑实现所需要的效果
  
### 下周任务
  - 1.继续分析launcher获取焦点的可行性并思考其他方案。

# 2019年01月21日 - - 2019年01月25日
# 刘晓旭
### 本周任务
  - 1.[bug 2162] 目前台式机和笔记本的自动休眠时间是以“用电池时“为准的，应该是“接通电源时“-----------已完成，待提交
  - 2.[bug 2441] [物业需求] 建议在设置以太网页面增加显示当前ip地址的字段，像凤凰os的那样-----------已完成，待提交

### 下周任务
  - 1.解决鼠标点击edit text，出现蓝色光标，拖动光标会提示所在的应用崩溃
  
# 罗浩
### 本周任务
  - 1.初步完成将packageName相同Task合并到一个图标上的基础功能
  - 2.考察Launcher运行在FreeformStack上的可行性和方法，目前完成度为可以将Launcher运行在FreeformStack并能够使其不遮挡其他应用的情况下获得焦点。但是通过修改系统源代码实现的，通过观察SetupWizard，应该存在应用能够自行设定的不覆盖其他应用的设定方法。
  - 3.解决Openthos浏览器触摸板无效问题，未提交
  
### 下周任务
  - 1.探讨并实现更好的解决openthos地址栏显示错位问题的方案。

# 2019年01月14日 - - 2019年01月18日
# 刘晓旭
### 本周任务
  - 1.应用商店默认打开存储权限
  - 2.分析、解决OTOAppStore在OTO8上无法安装应用问题------------已给出应用商店无法安装应用的解决方法，由于其它应用也有此问题，在寻找通用方法

### 下周任务
  - 1.oto8休眠后无法唤醒

# 罗浩
### 本周任务
  - 1.重构部分Taskbar相关代码
  - 2.修改Taskbar图标为应多TaskId
  - 3.新增固定图标持久化功能
  - 4.精简AppInfo内容，使之更合理并适用于持久化方案
  - 5.调整Taskbar的点击事件，使长按和右键能够并存，同时调整Hover对话框的实现方案来解决部分错误并使之更合理
  - 6.初步计划实现将多个packageName相同的Task合并到同一Taskbar图标上，并通过二级菜单来选择操作对象的功能。
  
### 下周任务
  - 1.实现多个packageName相同的Task合并到同一个Taskbar图标上的策略

# 2019年01月07日 - - 2019年01月11日
# 刘晓旭
### 本周任务
  - 1.测试自研应用在oto8上运行情况，以及给出需求优先级列表
  - 2.分析、解决OTOAppStore在OTO8上无法安装应用问题
  
### 下周任务
  - 1.分析、解决OTOAppStore在OTO8上无法安装应用问题
  - 2.分析、解决oto8上其他优先级高问题

# 罗浩
### 本周任务
  - 1.测试微信和办公软件在oto8上的运行情况。
  - 2.尝试解决最新版微信在oto8上运行出现的问题，窗口不自然空白的问题已解决。
  
### 下周任务
  - 1.重构systemui有关statusbar的代码，使之正确地
